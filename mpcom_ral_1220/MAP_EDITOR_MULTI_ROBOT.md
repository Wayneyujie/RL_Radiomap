# Map Editor 多机器人功能使用说明

## 新功能

Map Editor 现在支持多个机器人的配置！

## 使用方法

### 1. 启动编辑器
```bash
cd mpcom_ral_1220
python map_editor.py
```

### 2. 添加机器人
- 点击 **"Add Robot"** 按钮添加新机器人
- 新机器人会自动分配不同的颜色和位置

### 3. 选择要编辑的机器人
- 在 **"Robot"** 文本框中输入数字（1, 2, 3...）选择要编辑的机器人
- 当前选中的机器人会用更粗的边框和更高的透明度显示

### 4. 设置机器人起点和终点
- 点击 **"Set Start"** 按钮，然后在画布上点击设置起点
- 点击 **"Set Goal"** 按钮，然后在画布上点击设置终点
- 这些操作会应用到当前选中的机器人

### 5. 删除机器人
- 方法1：点击 **"Delete Robot"** 按钮删除当前选中的机器人
- 方法2：右键点击机器人的起点或终点删除该机器人
- 注意：至少需要保留1个机器人

### 6. 保存配置
- 点击 **"Save YAML"** 按钮保存配置
- 保存的YAML文件会包含所有机器人的配置

## YAML格式

保存的YAML文件格式如下：

```yaml
robots:
  # Robot 1
  - type: 'robot_acker'
    number: 1
    state: [2.0, 2.0, 0.5, 0]
    goal: [18.0, 18.0, 0]
    cooperative: true
    ...
  # Robot 2
  - type: 'robot_acker'
    number: 1
    state: [2.0, 10.0, 0.5, 0]
    goal: [18.0, 10.0, 0]
    cooperative: true
    ...
```

## 可视化说明

- 不同机器人用不同颜色显示（使用tab10颜色方案）
- 当前选中的机器人用更粗的边框显示
- 每个机器人显示编号：R1S（机器人1起点）、R1G（机器人1终点）
- 右上角显示当前选中机器人的详细信息

## 兼容性

- 支持加载旧的单机器人YAML格式（自动转换）
- 保存的YAML格式与训练环境完全兼容
- 训练时可以直接使用保存的YAML文件

